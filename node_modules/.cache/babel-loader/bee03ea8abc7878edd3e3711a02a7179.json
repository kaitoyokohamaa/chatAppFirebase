{"ast":null,"code":"var _jsxFileName = \"/Users/yokohamakaito/Desktop/chat/src/dashboard/dashboard.js\";\nimport React from \"react\";\nimport ChatList from \"../chatList/chatList\";\nimport { Button, withStyles } from \"@material-ui/core\";\nimport styles from \"./style\";\n\nconst firebase = require(\"firebase\");\n\nclass DashbordComponent extends React.Component {\n  constructor() {\n    super();\n\n    this.signOut = () => firebase.auth().signOut();\n\n    this.selectChat = chatIndex => {\n      console.log(\"Slect\", chatIndex);\n    };\n\n    this.newChatBtnClicked = () => this.setState({\n      newChatFormVisible: true,\n      selectedChat: null\n    });\n\n    this.componentDidMount = () => {\n      firebase.auth().onAuthStateChanged(async _user => {\n        if (!_user) this.props.history.push(\"/login\");else {\n          await firebase.firestore().collection(\"chats\").where(\"users\", \"array-contains\", _user.email).onSnapshot(async res => {\n            const chats = res.docs.map(_doc => _doc.data());\n            await this.setState({\n              email: _user.email,\n              chats: chats\n            });\n            console.log(this.state);\n          });\n        }\n      });\n    };\n\n    this.state = {\n      selectedChat: null,\n      newChatFormVisible: false,\n      email: null,\n      chats: []\n    };\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 7\n      }\n    }, \"Hello world from DashbordComponent\", /*#__PURE__*/React.createElement(ChatList, {\n      history: this.props.history,\n      newChatBtnFn: this.newChatBtnClicked,\n      selectChatFn: this.selectChat,\n      chats: this.state.chats,\n      userEmail: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(Button, {\n      className: classes.signOutBtn,\n      onClick: this.signOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }\n    }, \"Sign Out\"));\n  }\n\n}\n\nexport default withStyles(styles)(DashbordComponent);","map":{"version":3,"sources":["/Users/yokohamakaito/Desktop/chat/src/dashboard/dashboard.js"],"names":["React","ChatList","Button","withStyles","styles","firebase","require","DashbordComponent","Component","constructor","signOut","auth","selectChat","chatIndex","console","log","newChatBtnClicked","setState","newChatFormVisible","selectedChat","componentDidMount","onAuthStateChanged","_user","props","history","push","firestore","collection","where","email","onSnapshot","res","chats","docs","map","_doc","data","state","render","classes","signOutBtn"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,mBAAnC;AACA,OAAOC,MAAP,MAAmB,SAAnB;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,iBAAN,SAAgCP,KAAK,CAACQ,SAAtC,CAAgD;AAC9CC,EAAAA,WAAW,GAAG;AACZ;;AADY,SA6BdC,OA7Bc,GA6BL,MAAKL,QAAQ,CAACM,IAAT,GAAgBD,OAAhB,EA7BA;;AAAA,SA+BdE,UA/Bc,GA+BDC,SAAS,IAAI;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,SAArB;AACD,KAjCa;;AAAA,SAmCdG,iBAnCc,GAmCM,MAClB,KAAKC,QAAL,CAAc;AAAEC,MAAAA,kBAAkB,EAAE,IAAtB;AAA4BC,MAAAA,YAAY,EAAE;AAA1C,KAAd,CApCY;;AAAA,SAsCdC,iBAtCc,GAsCM,MAAM;AACxBf,MAAAA,QAAQ,CAACM,IAAT,GAAgBU,kBAAhB,CAAmC,MAAMC,KAAN,IAAe;AAChD,YAAI,CAACA,KAAL,EAAY,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EAAZ,KACK;AACH,gBAAMpB,QAAQ,CACXqB,SADG,GAEHC,UAFG,CAEQ,OAFR,EAGHC,KAHG,CAGG,OAHH,EAGY,gBAHZ,EAG8BN,KAAK,CAACO,KAHpC,EAIHC,UAJG,CAIQ,MAAMC,GAAN,IAAa;AACvB,kBAAMC,KAAK,GAAGD,GAAG,CAACE,IAAJ,CAASC,GAAT,CAAaC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAArB,CAAd;AACA,kBAAM,KAAKnB,QAAL,CAAc;AAClBY,cAAAA,KAAK,EAAEP,KAAK,CAACO,KADK;AAElBG,cAAAA,KAAK,EAAEA;AAFW,aAAd,CAAN;AAIAlB,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAKsB,KAAjB;AACD,WAXG,CAAN;AAYD;AACF,OAhBD;AAiBD,KAxDa;;AAEZ,SAAKA,KAAL,GAAa;AACXlB,MAAAA,YAAY,EAAE,IADH;AAEXD,MAAAA,kBAAkB,EAAE,KAFT;AAGXW,MAAAA,KAAK,EAAE,IAHI;AAIXG,MAAAA,KAAK,EAAE;AAJI,KAAb;AAMD;;AACDM,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAc,KAAKhB,KAAzB;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0DAEE,oBAAC,QAAD;AACE,MAAA,OAAO,EAAE,KAAKA,KAAL,CAAWC,OADtB;AAEE,MAAA,YAAY,EAAE,KAAKR,iBAFrB;AAGE,MAAA,YAAY,EAAE,KAAKJ,UAHrB;AAIE,MAAA,KAAK,EAAE,KAAKyB,KAAL,CAAWL,KAJpB;AAKE,MAAA,SAAS,EAAE,KAAKK,KAAL,CAAWR,KALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOG,GAPH,CAFF,eAWE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAEU,OAAO,CAACC,UAA3B;AAAuC,MAAA,OAAO,EAAE,KAAK9B,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXF,CADF;AAiBD;;AA7B6C;;AA4DhD,eAAeP,UAAU,CAACC,MAAD,CAAV,CAAmBG,iBAAnB,CAAf","sourcesContent":["import React from \"react\";\nimport ChatList from \"../chatList/chatList\";\nimport { Button, withStyles } from \"@material-ui/core\";\nimport styles from \"./style\";\nconst firebase = require(\"firebase\");\nclass DashbordComponent extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedChat: null,\n      newChatFormVisible: false,\n      email: null,\n      chats: []\n    };\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        Hello world from DashbordComponent\n        <ChatList\n          history={this.props.history}\n          newChatBtnFn={this.newChatBtnClicked}\n          selectChatFn={this.selectChat}\n          chats={this.state.chats}\n          userEmail={this.state.email}\n        >\n          {\" \"}\n        </ChatList>\n        <Button className={classes.signOutBtn} onClick={this.signOut}>\n          Sign Out\n        </Button>\n      </div>\n    );\n  }\n  signOut= () =>firebase.auth().signOut();\n\n  selectChat = chatIndex => {\n    console.log(\"Slect\", chatIndex);\n  };\n\n  newChatBtnClicked = () =>\n    this.setState({ newChatFormVisible: true, selectedChat: null });\n\n  componentDidMount = () => {\n    firebase.auth().onAuthStateChanged(async _user => {\n      if (!_user) this.props.history.push(\"/login\");\n      else {\n        await firebase\n          .firestore()\n          .collection(\"chats\")\n          .where(\"users\", \"array-contains\", _user.email)\n          .onSnapshot(async res => {\n            const chats = res.docs.map(_doc => _doc.data());\n            await this.setState({\n              email: _user.email,\n              chats: chats\n            });\n            console.log(this.state);\n          });\n      }\n    });\n  };\n}\n\nexport default withStyles(styles)(DashbordComponent);\n"]},"metadata":{},"sourceType":"module"}