{"ast":null,"code":"import _classCallCheck from\"/Users/yokohamakaito/Desktop/chatFirebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yokohamakaito/Desktop/chatFirebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/yokohamakaito/Desktop/chatFirebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/yokohamakaito/Desktop/chatFirebase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import InputLabel from'@material-ui/core/InputLabel';import Input from'@material-ui/core/Input';import Paper from'@material-ui/core/Paper';import withStyles from'@material-ui/core/styles/withStyles';import CssBaseline from'@material-ui/core/CssBaseline';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import styles from'./style';import FormControl from'@material-ui/core/FormControl';import{Link}from'react-router-dom';var firebase=require(\"firebase\");var SignupComponent=/*#__PURE__*/function(_React$Component){_inherits(SignupComponent,_React$Component);var _super=_createSuper(SignupComponent);function SignupComponent(){var _this;_classCallCheck(this,SignupComponent);_this=_super.call(this);_this.formIsValid=function(){return _this.state.password===_this.state.passwordConfirmation;};_this.userTyping=function(type,e){switch(type){case'email':_this.setState({email:e.target.value});break;case'password':_this.setState({password:e.target.value});break;case'passwordConfirmation':_this.setState({passwordConfirmation:e.target.value});break;default:break;}};_this.subimitSignup=function(e){e.preventDefault();if(!_this.formIsValid()){_this.setState({signupError:'Passwords do not match!'});return;}firebase.auth().createUserWithEmailAndPassword(_this.state.email,_this.state.password).then(function(authRes){var userObj={email:authRes.user.email};firebase.firestore().collection('users').doc(_this.state.email).set(userObj).then(function(){_this.props.history.push('/dashboard');},function(authErr){console.log(authErr);_this.setState({signupError:'Failed to add user'});},function(dbErr){console.log(dbErr);_this.setState({signupError:'Failed add user'});});});};_this.state={email:null,password:null,passwordConfirmation:null,signupError:'There was an error'};return _this;}_createClass(SignupComponent,[{key:\"render\",value:function render(){var _this2=this;var classes=this.props.classes;return/*#__PURE__*/React.createElement(\"main\",{className:classes.main},/*#__PURE__*/React.createElement(CssBaseline,null,/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Sign Up!\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _this2.subimitSignup(e);},className:classes.form},/*#__PURE__*/React.createElement(FormControl,{required:true,fullWidth:true,margin:\"nomal\"},/*#__PURE__*/React.createElement(InputLabel,{htnlFor:\"sinup-email-input\"},\"Enter Youtr Email\"),/*#__PURE__*/React.createElement(Input,{autoComplete:\"email\",onChange:function onChange(e){return _this2.userTyping('email',e);},autoFoucus:true,id:\"signup-email-input\"})),/*#__PURE__*/React.createElement(FormControl,{required:true,fullWidth:true,margin:\"nomal\"},/*#__PURE__*/React.createElement(InputLabel,{htnlFor:\"sinup-password-input\"},\"Create A Password\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",autoComplete:\"email\",onChange:function onChange(e){return _this2.userTyping('password',e);},autoFoucus:true,id:\"sinup-password-input\"})),/*#__PURE__*/React.createElement(FormControl,{required:true,fullWidth:true,margin:\"nomal\"},/*#__PURE__*/React.createElement(InputLabel,{htnlFor:\"sinup-password-confirmation-input\"},\"Confirm Your Password\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",autoComplete:\"email\",onChange:function onChange(e){return _this2.userTyping('passwordConfirmation',e);},autoFoucus:true,id:\"sinup-password-input\"})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit},\"SUBMIT\")),this.state.signupError?/*#__PURE__*/React.createElement(Typography,{className:classes.errorText,component:\"h5\",variant:\"h6\"},this.state.signupError):null,/*#__PURE__*/React.createElement(Typography,{component:\"h5\",variant:\"h6\",className:classes.hasAccountHeader},\"Already Have An Account?\"),/*#__PURE__*/React.createElement(Link,{className:classes.logInLink,to:\"/login\"},\"Logi In!\"))));}}]);return SignupComponent;}(React.Component);export default withStyles(styles)(SignupComponent);","map":{"version":3,"sources":["/Users/yokohamakaito/Desktop/chatFirebase/src/signup/signup.js"],"names":["React","InputLabel","Input","Paper","withStyles","CssBaseline","Typography","Button","styles","FormControl","Link","firebase","require","SignupComponent","formIsValid","state","password","passwordConfirmation","userTyping","type","e","setState","email","target","value","subimitSignup","preventDefault","signupError","auth","createUserWithEmailAndPassword","then","authRes","userObj","user","firestore","collection","doc","set","props","history","push","authErr","console","log","dbErr","classes","main","paper","form","submit","errorText","hasAccountHeader","logInLink","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport Paper from '@material-ui/core/Paper';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport styles from './style';\nimport FormControl from '@material-ui/core/FormControl';\nimport {Link} from 'react-router-dom';\n\nconst firebase =require(\"firebase\")\nclass SignupComponent extends React.Component{\n\n    constructor(){\n        super();\n        this.state={\n            email:null,\n            password:null,\n            passwordConfirmation:null,\n            signupError:'There was an error'\n        }\n    }\n    render(){\n        const {classes} =this.props\n\n     \nreturn (\n    <main className={classes.main} >\n        <CssBaseline >\n            <Paper className={classes.paper}>\n                <Typography component=\"h1\" variant='h5'>\n                    Sign Up!\n                </Typography>\n                <form onSubmit={(e) =>this.subimitSignup(e)} className={classes.form}>\n                    <FormControl required fullWidth margin='nomal'>\n                        <InputLabel htnlFor='sinup-email-input'>\n                            Enter Youtr Email\n                        </InputLabel>\n                        <Input autoComplete='email' onChange={(e) => this.userTyping('email',e)} autoFoucus id='signup-email-input'>\n                        </Input>\n                    </FormControl>\n                    <FormControl required fullWidth margin='nomal'>\n                        <InputLabel htnlFor='sinup-password-input'>\n                           Create A Password\n                        </InputLabel>\n                        <Input type='password' autoComplete='email' onChange={(e) => this.userTyping('password',e)} autoFoucus id='sinup-password-input'>\n                        </Input>\n                    </FormControl>\n                    <FormControl required fullWidth margin='nomal'>\n                        <InputLabel htnlFor='sinup-password-confirmation-input'>\n                           Confirm Your Password\n                        </InputLabel>\n                        <Input type='password' autoComplete='email' onChange={(e) => this.userTyping('passwordConfirmation',e)} autoFoucus id='sinup-password-input'>\n                        </Input>\n                    </FormControl>\n                    <Button type='submit' fullWidth variant='contained' color=\"primary\" className={classes.submit}>\n                            SUBMIT\n                    </Button>\n                </form>\n                {\n                    this.state.signupError ?\n                    <Typography className={classes.errorText} component='h5' variant='h6' >\n                        {this.state.signupError}\n                    </Typography>:\n                    null\n                }\n                <Typography component='h5' variant='h6' className={classes.hasAccountHeader}>Already Have An Account?</Typography>\n                <Link className={classes.logInLink} to='/login'>Logi In!</Link>\n            </Paper>\n        </CssBaseline>\n    </main>\n)\n    }\n    formIsValid =() =>this.state.password === this.state.passwordConfirmation;\n\n    userTyping=(type ,e)=>{\n        switch(type){\n            case 'email':\n                this.setState({email:e.target.value});\n                break;\n\n            case 'password':\n                this.setState({password:e.target.value});\n                break;\n\n            case 'passwordConfirmation':\n                this.setState({passwordConfirmation:e.target.value});\n                break;\n\n                default:\n                break;\n        }\n    }\n    subimitSignup=(e) =>{\n        e.preventDefault();\n        if(!this.formIsValid()){\n            this.setState({signupError : 'Passwords do not match!'})\n            return;\n        }\n       firebase\n        .auth()\n        .createUserWithEmailAndPassword(this.state.email,this.state.password)\n        .then(authRes =>{\n            const userObj = {\n                email:authRes.user.email\n            };\n        firebase\n         .firestore()\n         .collection('users')\n         .doc(this.state.email)\n         .set(userObj)\n         .then(() =>{\n             this.props.history.push('/dashboard')\n         },authErr =>{\n             console.log(authErr)\n             this.setState({signupError:'Failed to add user'})\n         },dbErr =>{\n             console.log(dbErr)\n             this.setState({signupError:'Failed add user'})\n         })\n        })\n    }\n}\n\nexport default withStyles(styles)(SignupComponent);"]},"metadata":{},"sourceType":"module"}