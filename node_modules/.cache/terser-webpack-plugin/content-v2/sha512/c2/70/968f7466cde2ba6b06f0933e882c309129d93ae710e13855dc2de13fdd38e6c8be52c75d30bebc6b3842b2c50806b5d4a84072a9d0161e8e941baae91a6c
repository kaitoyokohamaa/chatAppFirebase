{"map":{"version":3,"sources":["static/js/main.6736897e.chunk.js"],"names":["this","push","119","module","exports","__webpack_require__","124","125","164","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","Boolean","window","location","hostname","match","react_router_dom","react_router","slicedToArray","FormControl","InputLabel","Input","Paper","CssBaseline","Typography","Button","use_react_router","use_react_router_default","firebase","login","_useState","Object","_useState2","Email","setEmail","_useState3","_useState4","Password","setPassword","_useState5","_useState6","loginError","setloginError","userTyping","type","e","target","value","history","a","createElement","className","component","variant","onSubmit","preventDefault","auth","signInWithEmailAndPassword","then","err","console","log","submitLogin","required","fullWidth","margin","htmlFor","autoComplete","autoFocus","id","onChange","color","to","classCallCheck","createClass","createSuper","inherits","withStyles","withStyles_default","defineProperty","signup_style","theme","main","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","concat","form","submit","hasAccountHeader","logInLink","textDecoration","fontWeight","errorText","textAlign","signup_firebase","signup_SignupComponent","_React$Component","SignupComponent","_super","_this","call","formIsValid","state","password","passwordConfirmation","setState","email","subimitSignup","createUserWithEmailAndPassword","authRes","userObj","user","firestore","collection","doc","set","props","authErr","signupError","dbErr","key","_this2","classes","htnlFor","autoFoucus","Component","signup","regenerator","regenerator_default","asyncToGenerator","styles_withStyles","List","ListItem","ListItemText","ListItemAvatar","Avatar","chatList_style","root","backgroundColor","palette","background","height","position","left","boxShadow","listItem","cursor","newChatBtn","borderRadius","unreadMessage","top","right","Divider","chatList_ChatListaComponent","ChatListaComponent","_len","arguments","length","args","Array","_key","apply","newChat","newChatBtnFn","selectChat","index","selectChatFn","chats","onClick","map","_chat","_index","selected","selectedChatIndex","alt","users","filter","_user","userEmail","split","primary","secondary","undefined","messages","message","substring","chatList","dashboard_style","signOutBtn","bottom","chatview_styles","content","overflow","boxSizing","overflowY","userSent","float","clear","wordWrap","friendSent","chatHeader","fontSize","paddingTop","chatView_ChatViewComponent","ChatViewComponent","componentDidMount","container","document","getElementById","scrollTo","scrollHeight","componentDidUpdate","chat","_usr","_msg","sender","chatView","TextField","Send","Send_default","chattextbox_styles","sendBtn","&:hover","chatTextBoxContainer","chatTextBox","chattextbox_ChatTextComponent","ChatTextComponent","keyCode","submitMessage","chatText","messageValid","txt","replace","submitMessageFn","userClickedInput","placeholder","onKeyUp","onFocus","chattextbox","newChat_styles","input","newChat_firebase","newChat_NewChatComponent","NewChatComponent","username","submitNewChat","_ref","mark","_callee","userExists","wrap","_context","prev","next","sent","chatExists","goToChat","createChat","stop","_x","newChatSubmitFn","sendTo","goToChatFn","buildDocKey","currentUser","sort","join","_callee2","docKey","_context2","get","exists","abrupt","_callee3","usersSnapshot","_context3","docs","_doc","data","includes","serverError","dashboard_firebase","dashboard_DashbordComponent","DashbordComponent","signOut","chatIndex","newChatFormVisible","msg","update","FieldValue","arrayUnion","receiverHasRead","usersInChat","find","every","indexOf","_x2","friend","newChatBtnClicked","newChatSubmit","_ref2","chatObj","_x3","componentWillMount","onAuthStateChanged","_ref3","_callee4","_context4","where","onSnapshot","_ref4","res","friends","_x5","_x4","dashboard","src_firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","routing","path","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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"},"code":"(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{119:function(e,t,a){e.exports=a(164)},124:function(e,t,a){},125:function(e,t,a){},164:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(11),o=a.n(s);a(124),Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(50),c=a(34),l=a(76),u=a(194),p=a(203),m=a(195),h=a(193),d=a(191),g=a(77),f=a(196),b=(a(125),a(102)),w=a.n(b),x=a(53),v=function(){var e=Object(n.useState)(\"\"),t=Object(l.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(\"\"),c=Object(l.a)(o,2),b=c[0],v=c[1],E=Object(n.useState)(!1),C=Object(l.a)(E,2),y=C[0],k=C[1],S=function(e,t){switch(e){case\"email\":s(t.target.value);break;case\"password\":v(t.target.value)}},O=w()().history;return r.a.createElement(\"main\",{className:\"main\"},r.a.createElement(d.a,null),r.a.createElement(h.a,{className:\"paper\"},r.a.createElement(g.a,{component:\"h1\",variant:\"h5\"},\"Log In!\"),r.a.createElement(\"form\",{className:\"form\",onSubmit:function(e){return function(e){e.preventDefault(),x.auth().signInWithEmailAndPassword(a,b).then((function(){O.push(\"/dashboard\")}),(function(e){k(!0),console.log(e)}))}(e)}},r.a.createElement(u.a,{required:!0,fullWidth:!0,margin:\"nomal\"},r.a.createElement(p.a,{htmlFor:\"login-email-input\"},\"Enter Your Email!\"),r.a.createElement(m.a,{autoComplete:\"email\",value:a,autoFocus:!0,id:\"login-email-input\",onChange:function(e){return S(\"email\",e)}})),r.a.createElement(u.a,{required:!0,fullWidth:!0,margin:\"nomal\"},r.a.createElement(p.a,{htmlFor:\"login-password-input\"},\"Enter Your Password\"),r.a.createElement(m.a,{type:\"password\",value:b,autoComplete:\"email\",autoFocus:!0,id:\"login-password-input\",onChange:function(e){return S(\"password\",e)}})),r.a.createElement(f.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:\"submit\"},\"Log In\")),y?r.a.createElement(g.a,{className:\"errortext\",component:\"h5\",variant:\"h6\"},\"Incorrect Login Information\"):null,r.a.createElement(g.a,{component:\"h5\",variant:\"h6\",className:\"noAccountHeader\"},\"Don't Have An Account?\"),r.a.createElement(i.b,{className:\"signUpLink\",to:\"/signup\"},\"Sign Up!\")))},E=a(21),C=a(22),y=a(23),k=a(25),S=a(107),O=a.n(S),j=a(70),T=function(e){return{main:Object(j.a)({width:\"auto\",display:\"block\",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:\"auto\",marginRight:\"auto\"}),paper:{marginTop:8*e.spacing.unit,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:\"\".concat(2*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px\")},form:{width:\"100%\",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},hasAccountHeader:{width:\"100%\"},logInLink:{width:\"100%\",textDecoration:\"none\",color:\"#303f9f\",fontWeight:\"bolder\"},errorText:{color:\"red\",textAlign:\"center\"}}},F=a(53),N=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).formIsValid=function(){return e.state.password===e.state.passwordConfirmation},e.userTyping=function(t,a){switch(t){case\"email\":e.setState({email:a.target.value});break;case\"password\":e.setState({password:a.target.value});break;case\"passwordConfirmation\":e.setState({passwordConfirmation:a.target.value})}},e.subimitSignup=function(t){t.preventDefault(),e.formIsValid()?F.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(t){var a={email:t.user.email};F.firestore().collection(\"users\").doc(e.state.email).set(a).then((function(){e.props.history.push(\"/dashboard\")}),(function(t){console.log(t),e.setState({signupError:\"Failed to add user\"})}),(function(t){console.log(t),e.setState({signupError:\"Failed add user\"})}))})):e.setState({signupError:\"Passwords do not match!\"})},e.state={email:null,password:null,passwordConfirmation:null,signupError:\"There was an error\"},e}return Object(C.a)(a,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return r.a.createElement(\"main\",{className:t.main},r.a.createElement(d.a,null,r.a.createElement(h.a,{className:t.paper},r.a.createElement(g.a,{component:\"h1\",variant:\"h5\"},\"Sign Up!\"),r.a.createElement(\"form\",{onSubmit:function(t){return e.subimitSignup(t)},className:t.form},r.a.createElement(u.a,{required:!0,fullWidth:!0,margin:\"nomal\"},r.a.createElement(p.a,{htnlFor:\"sinup-email-input\"},\"Enter Youtr Email\"),r.a.createElement(m.a,{autoComplete:\"email\",onChange:function(t){return e.userTyping(\"email\",t)},autoFoucus:!0,id:\"signup-email-input\"})),r.a.createElement(u.a,{required:!0,fullWidth:!0,margin:\"nomal\"},r.a.createElement(p.a,{htnlFor:\"sinup-password-input\"},\"Create A Password\"),r.a.createElement(m.a,{type:\"password\",autoComplete:\"email\",onChange:function(t){return e.userTyping(\"password\",t)},autoFoucus:!0,id:\"sinup-password-input\"})),r.a.createElement(u.a,{required:!0,fullWidth:!0,margin:\"nomal\"},r.a.createElement(p.a,{htnlFor:\"sinup-password-confirmation-input\"},\"Confirm Your Password\"),r.a.createElement(m.a,{type:\"password\",autoComplete:\"email\",onChange:function(t){return e.userTyping(\"passwordConfirmation\",t)},autoFoucus:!0,id:\"sinup-password-input\"})),r.a.createElement(f.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",className:t.submit},\"SUBMIT\")),this.state.signupError?r.a.createElement(g.a,{className:t.errorText,component:\"h5\",variant:\"h6\"},this.state.signupError):null,r.a.createElement(g.a,{component:\"h5\",variant:\"h6\",className:t.hasAccountHeader},\"Already Have An Account?\"),r.a.createElement(i.b,{className:t.logInLink,to:\"/login\"},\"Logi In!\"))))}}]),a}(r.a.Component),I=O()(T)(N),B=a(14),A=a.n(B),W=a(35),D=a(7),L=a(197),M=a(198),R=a(200),V=a(199),H=a(204),U=function(e){return{root:{backgroundColor:e.palette.background.paper,height:\"calc(100% - 35px)\",position:\"absolute\",left:\"0\",width:\"300px\",boxShadow:\"0px 0px 2px black\"},listItem:{cursor:\"pointer\"},newChatBtn:{borderRadius:\"0px\"},unreadMessage:{color:\"red\",position:\"absolute\",top:\"0\",right:\"5px\"}}},K=a(201),q=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).newChat=function(){e.props.newChatBtnFn()},e.selectChat=function(t){e.props.selectChatFn(t)},e}return Object(C.a)(a,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return console.log(this.props.chats),0===this.props.chats.length&&this.props.chats===[]?(console.log(this.props.chats.length),r.a.createElement(\"div\",null,\"Loafding\")):this.props.chats.length>0?(console.log(this.props.chats),r.a.createElement(\"main\",{className:t.root},r.a.createElement(f.a,{variant:\"contained\",fullWidth:!0,color:\"primary\",className:t.newChatBtn,onClick:this.newChat},\"\\u65b0\\u3057\\u3044\\u30e1\\u30c3\\u30bb\\u30fc\\u30b8\"),r.a.createElement(L.a,null,this.props.chats.map((function(a,n){return r.a.createElement(\"div\",{key:n},r.a.createElement(M.a,{onClick:function(){return e.selectChat(n)},className:t.listItem,selected:e.props.selectedChatIndex===n,alignItems:\"flex-start\"},r.a.createElement(V.a,null,r.a.createElement(H.a,{alt:\"Remy Sharp\"},a.users.filter((function(t){return t!==e.props.userEmail}))[0].split(\"\")[0])),r.a.createElement(R.a,{primary:a.users.filter((function(t){return t!==e.props.userEmail}))[0],secondary:r.a.createElement(g.a,{component:\"span\",color:\"textPrimary\"},void 0===a.messages?null:a.messages[a.messages.length-1].message.substring(0,30))})),r.a.createElement(K.a,null))}))))):r.a.createElement(\"main\",{className:t.root},r.a.createElement(f.a,{variant:\"contained\",fullWidth:!0,color:\"primary\",onClick:this.newChat,className:t.newChatBtn},\"\\u304a\\u30cb\\u30e5\\u30fc\\u306a\\u30e1\\u30c3\\u30bb\\u30fc\\u30b8\"),r.a.createElement(L.a,null))}}]),a}(r.a.Component),z=Object(D.a)(U)(q),Y=function(e){return{signOutBtn:{position:\"absolute\",bottom:\"0px\",left:\"0px\",width:\"300px\",borderRadius:\"0px\",backgroundColor:\"#227092\",height:\"35px\",boxShadow:\"0px 0px 2px black\",color:\"white\"}}},P=function(e){return{content:{height:\"calc(100vh - 100px)\",overflow:\"auto\",padding:\"25px\",marginLeft:\"300px\",boxSizing:\"border-box\",overflowY:\"scroll\",top:\"50px\",width:\"calc(100% - 300px)\",position:\"absolute\"},userSent:{float:\"left\",clear:\"both\",padding:\"20px\",boxSizing:\"border-box\",wordWrap:\"break-word\",marginTop:\"10px\",backgroundColor:\"#707BC4\",color:\"white\",width:\"300px\",borderRadius:\"10px\"},friendSent:{float:\"right\",clear:\"both\",padding:\"20px\",boxSizing:\"border-box\",wordWrap:\"break-word\",marginTop:\"10px\",backgroundColor:\"#707BC4\",color:\"white\",width:\"300px\",borderRadius:\"10px\"},chatHeader:{width:\"calc(100% - 301px)\",height:\"50px\",backgroundColor:\"#344195\",position:\"fixed\",marginLeft:\"301px\",fontSize:\"18px\",textAlign:\"center\",color:\"white\",paddingTop:\"10px\",boxSizing:\"border-box\"}}},J=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var e=document.getElementById(\"chatview-container\");e&&e.scrollTo(0,e.scrollHeight)},e.componentDidUpdate=function(){var e=document.getElementById(\"chatview-container\");e&&e.scrollTo(0,e.scrollHeight)},e}return Object(C.a)(a,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return void 0===this.props.chat?r.a.createElement(\"main\",{className:t.content},\"\\u3053\\u3053\\u306f\\u50d5\\u306e\\u304a\\u3054\\u308a\\u3067\\uff01\"):void 0!==this.props.chat&&void 0!==this.props.chat.messages?r.a.createElement(\"div\",null,r.a.createElement(\"div\",{className:t.chatHeader},\"Your conversation with \",this.props.chat.users.filter((function(t){return t!==e.props.user}))[0]),r.a.createElement(\"main\",{id:\"chatview-container\",className:t.content},this.props.chat.messages.map((function(a,n){return r.a.createElement(\"div\",{key:n,className:a.sender===e.props.user?t.userSent:t.friendSent},a.message)})))):r.a.createElement(\"div\",{className:\"chatview-container\"},\"Loading...\")}}]),a}(r.a.Component),Q=Object(D.a)(P)(J),G=a(202),X=a(108),Z=a.n(X),$=function(e){return{sendBtn:{color:\"blue\",cursor:\"pointer\",\"&:hover\":{color:\"gray\"}},chatTextBoxContainer:{position:\"absolute\",bottom:\"15px\",left:\"315px\",boxSizing:\"border-box\",overflow:\"auto\",width:\"calc(100% - 300px - 50px)\"},chatTextBox:{width:\"calc(100% - 25px)\"}}},_=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).userTyping=function(t){13===t.keyCode?e.submitMessage():e.setState({chatText:t.target.value}),console.log(e.state.chatText)},e.messageValid=function(e){return e&&e.replace(/\\s/g,\"\").length},e.submitMessage=function(){if(e.messageValid(e.state.chatText)){var t=e.props.submitMessageFn;t(e.state.chatText);console.log(\"333\"),console.log(t),console.log(\"33is.state.chatText3\"),document.getElementById(\"chattextbox\").value=\"\"}},e.userClickedInput=function(){return console.log(\"change Input\")},e.state={chatText:\"\"},e}return Object(C.a)(a,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return r.a.createElement(\"div\",{className:t.chatTextBoxContainer},r.a.createElement(G.a,{placeholder:\"Type!!!!!!!!!!!!!!!!!!!\",onKeyUp:function(t){return e.userTyping(t)},id:\"chattextbox\",className:t.chatTextBox,onFocus:this.userClickedInput}),r.a.createElement(Z.a,{onClick:this.submitMessage,className:t.sendBtn}))}}]),a}(r.a.Component),ee=Object(D.a)($)(_),te=function(e){return{main:Object(j.a)({width:\"auto\",display:\"block\",marginLeft:3*e.spacing(),marginRight:3*e.spacing()},e.breakpoints.up(400+3*e.spacing()*2),{width:400,marginLeft:\"auto\",marginRight:\"auto\"}),paper:{padding:\"\".concat(2*e.spacing(),\"px \").concat(3*e.spacing(),\"px \").concat(3*e.spacing(),\"px\"),position:\"absolute\",width:\"350px\",top:\"50px\",left:\"calc(50% + 150px - 175px)\"},input:{},form:{width:\"100%\",marginTop:e.spacing()},submit:{marginTop:3*e.spacing()},errorText:{color:\"red\",textAlign:\"center\"}}},ae=a(53),ne=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).userTyping=function(t,a){switch(t){case\"username\":e.setState({username:a.target.value});break;case\"message\":e.setState({message:a.target.value})}},e.submitNewChat=function(){var t=Object(W.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.userExists();case 3:if(n=t.sent,console.log(n),!n){t.next=10;break}return t.next=8,e.chatExists();case 8:t.sent?e.goToChat():e.createChat();case 10:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.createChat=function(){e.props.newChatSubmitFn({sendTo:e.state.username,message:e.state.message})},e.goToChat=function(){e.props.goToChatFn(e.buildDocKey(),e.state.message)},e.buildDocKey=function(){return[ae.auth().currentUser.email,e.state.username].sort().join(\":\")},e.chatExists=Object(W.a)(A.a.mark((function t(){var a,n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.buildDocKey(),t.next=3,ae.firestore().collection(\"chats\").doc(a).get();case 3:return n=t.sent,console.log(2222),console.log(n.exists),console.log(2222),t.abrupt(\"return\",n.exists);case 8:case\"end\":return t.stop()}}),t)}))),e.userExists=Object(W.a)(A.a.mark((function t(){var a,n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae.firestore().collection(\"users\").get();case 2:return a=t.sent,n=a.docs.map((function(e){return e.data().email})).includes(e.state.username),e.setState({serverError:!n}),t.abrupt(\"return\",n);case 6:case\"end\":return t.stop()}}),t)}))),e.state={username:null,message:null},e}return Object(C.a)(a,[{key:\"render\",value:function(){var e=this,t=this.props.classes;return r.a.createElement(\"main\",{className:t.main},r.a.createElement(d.a,null,r.a.createElement(h.a,{className:t.paper},r.a.createElement(g.a,{component:\"h1\",variant:\"h5\"},\"Send A Message\"),r.a.createElement(\"form\",{className:t.form,onSubmit:function(t){return e.submitNewChat(t)}},r.a.createElement(u.a,{fullWidth:!0},r.a.createElement(p.a,{htmlFor:\"new-chat-username\"},\"Enter Your Friend's Email\"),r.a.createElement(m.a,{required:!0,className:t.input,autoFocus:!0,onChange:function(t){return e.userTyping(\"username\",t)},id:\"new-chat-username\"})),r.a.createElement(u.a,{fullWidth:!0},r.a.createElement(p.a,{htmlFor:\"new-chat-message\"},\"Enter Your Message\"),r.a.createElement(m.a,{required:!0,className:t.input,autoFocus:!0,onChange:function(t){return e.userTyping(\"message\",t)},id:\"new-chat-message\"}),r.a.createElement(f.a,{fullWidth:!0,className:t.submit,variant:\"contained\",color:\"primary\",type:\"submit\"},\" Submit\"))))))}}]),a}(r.a.Component),re=Object(D.a)(te)(ne),se=a(53),oe=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).signOut=function(){return se.auth().signOut()},e.selectChat=function(t){e.setState({selectChat:t,newChatFormVisible:!1}),console.log({selectChat:t},t)},e.submitMessage=function(t){console.log(1111),console.log(e.state.newChatFormVisible),console.log(1111);var a=e.buildDocKey(e.state.chats[e.state.selectChat].users.filter((function(t){return t!==e.state.email}))[0]);console.log(e.state.chats),console.log(a),console.log(2223),se.firestore().collection(\"chats\").doc(a).update({messages:se.firestore.FieldValue.arrayUnion({message:t,sender:e.state.email}),receiverHasRead:!1})},e.goToChat=function(){var t=Object(W.a)(A.a.mark((function t(a,n){var r,s;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.split(\":\"),s=e.state.chats.find((function(e){return r.every((function(t){return e.users.includes(t)}))})),e.setState({newChatFormVisible:!1}),t.next=5,e.selectChat(e.state.chats.indexOf(s));case 5:e.submitMessage(n);case 6:case\"end\":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.buildDocKey=function(t){return[t,e.state.email].sort().join(\":\")},e.newChatBtnClicked=function(){return e.setState({newChatFormVisible:!0,selectChat:null})},e.newChatSubmit=function(){var t=Object(W.a)(A.a.mark((function t(a){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.buildDocKey(a.sendTo),t.next=3,se.firestore().collection(\"chats\").doc(n).set({messages:[{message:a.message,sender:e.state.email}],users:[e.state.email,a.sendTo],receiverHasRead:!1});case 3:e.setState({newChatFormVisible:!1}),e.selectChat(e.state.chats.length-1);case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentWillMount=function(){se.auth().onAuthStateChanged(function(){var t=Object(W.a)(A.a.mark((function t(a){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=4;break}e.props.history.push(\"/login\"),t.next=6;break;case 4:return t.next=6,se.firestore().collection(\"chats\").where(\"users\",\"array-contains\",a.email).onSnapshot(function(){var t=Object(W.a)(A.a.mark((function t(n){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.docs.map((function(e){return e.data()})),t.next=3,e.setState({email:a.email,chats:r,friends:[]});case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.state={selectChat:null,newChatFormVisible:!1,email:null,chats:[]},e}return Object(C.a)(a,[{key:\"render\",value:function(){var e=this.props.classes;return r.a.createElement(\"div\",null,r.a.createElement(z,{history:this.props.history,newChatBtnFn:this.newChatBtnClicked,selectChatFn:this.selectChat,chats:this.state.chats,userEmail:this.state.email},\" \"),this.state.newChatFormVisible?null:r.a.createElement(Q,{user:this.state.email,chat:this.state.chats[this.state.selectChat]}),null===this.state.selectChat||this.state.newChatFormVisible?null:r.a.createElement(ee,{submitMessageFn:this.submitMessage}),this.state.newChatFormVisible?r.a.createElement(re,{goToChatFn:this.goToChat,newChatSubmitFn:this.newChatSubmit}):null,r.a.createElement(f.a,{className:e.signOutBtn,onClick:this.signOut},\"Sign Out\"))}}]),a}(r.a.Component),ie=Object(D.a)(Y)(oe),ce=a(53);a(163),ce.initializeApp({apiKey:\"AIzaSyDIG6JmlcIsDNAnoadqKW-1ow0QbAkESiQ\",authDomain:\"chatapp-58172.firebaseapp.com\",databaseURL:\"https://chatapp-58172.firebaseio.com\",projectId:\"chatapp-58172\",storageBucket:\"chatapp-58172.appspot.com\",messagingSenderId:\"244788918445\",appId:\"1:244788918445:web:d7a152d0fb46a0040eee24\",measurementId:\"G-TXTXZWBQ2M\"});var le=r.a.createElement(i.a,null,r.a.createElement(\"div\",{id:\"routing-container\"},r.a.createElement(c.Route,{path:\"/login\",component:v}),r.a.createElement(c.Route,{path:\"/signup\",component:I}),r.a.createElement(c.Route,{path:\"/dashboard\",component:ie})));o.a.render(r.a.createElement(r.a.StrictMode,null,le),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[119,1,2]]]);","extractedComments":[]}